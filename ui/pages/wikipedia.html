<div id="wikiTable">
</div>
<script>

$(document).ready(function() {
  /*$.getJSON("wiki.json",function( data ) {window.wikiData = data});*/


jQuery.extend( jQuery.fn.dataTableExt.oSort, {
    "date-uk-pre": function ( a ) {
        var ukDatea = a.split('/');
        return (ukDatea[2]*10000 + ukDatea[1]*100 + ukDatea[0]*1);
    },

    "date-uk-asc": function ( a, b ) {
        return ((a < b) ? -1 : ((a > b) ? 1 : 0));
    },

    "date-uk-desc": function ( a, b ) {
        return ((a < b) ? 1 : ((a > b) ? -1 : 0));
    }

} );


  $('#wikiTable').CSVToTable('data/events.csv',
    {
      tableClass: "table table-striped table-bordered",
      separator: "\t",
      headers: ['Title', 'Category', 'Start date', 'End date', 'Location', 'ref']
    }).bind("loadComplete",function() {
    $('#wikiTable table').dataTable({
            "aoColumns": [
                null,
                null,
                {"sType": "date-uk"},
                {"sType": "date-uk"},
                null,
                null
            ],
            "iDisplayLength": 25,
            "bPaginate": true,
            "bInfo": true,
            "order": [[ 5, "desc" ]]
        } );
});



});


</script>
